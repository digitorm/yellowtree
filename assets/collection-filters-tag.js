(async()=>{const{historyPush:l}=await import(window.theme.modules.utils);var e=await import(window.theme.modules.baseComponent);customElements.define("collection-filters-tag",class extends e.default{elements={link:"[data-link] > a"};render(){this.url=this.$link.href,console.log(this.url),this.addEventListener("click",e=>{e.preventDefault(),this._changeHandler()})}_changeHandler(){this.trigger("collectionTagFilterUpdate",{url:this.url})}}),customElements.define("collection-filters-tag-wrapper",class extends e.default{render(){this.on("collectionTagFilterUpdate",(e,t)=>{this.trigger("filterUpadting"),this._fetchChanges(t.url),l(t.url)}),this.on("filterChange",(e,t)=>{const l=(new DOMParser).parseFromString(t.html,"text/html");t=l.querySelector("collection-filters-tag-wrapper");this.replaceChildren(...t.childNodes)})}_fetchChanges(e){fetch(e).then(e=>e.text()).then(e=>{this.trigger("filterChange",{html:e,src:"tag-filters"})})}})})();