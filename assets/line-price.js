import BaseComponent from"./base-component.js";const moneyFormat="${{amount}}";function formatMoney(e,t){"string"==typeof e&&(e=e.replace(".",""));let n="";var a=/\{\{\s*(\w+)\s*\}\}/;const o=t||moneyFormat;function r(e,t=2,n=",",a="."){if(isNaN(e)||null==e)return 0;const o=(e=(e/100).toFixed(t)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${n}`)+(o[1]?a+o[1]:"")}switch(o.match(a)[1]){case"amount":n=r(e,2);break;case"amount_no_decimals":n=r(e,0);break;case"amount_with_comma_separator":n=r(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=r(e,0,".",",")}return o.replace(a,n)}customElements.define("line-price",class extends BaseComponent{render(){this.listenTo("cartChange",(e,t)=>{t.changedItem&&t.changedItem.id===+this.getAttribute("variant-id")&&(this.innerHTML=formatMoney(t.changedItem.final_line_price))})}});