const loadScript=(o,e)=>{const s=document.querySelector(`script[src="${o}"]`);return new Promise((n,e)=>{if(s)if(s.hasAttribute("loaded"))n();else{const t=new MutationObserver((e,t)=>{for(const r of e)"loaded"===r.attributeName&&(t.disconnect(),n())});t.observe(s,{attributes:!0,childList:!1,subtree:!1})}else{const r=document.createElement("script");r.src=o,r.defer=!0,document.body.appendChild(r),r.onload=()=>{r.setAttribute("loaded",""),n()}}})},loadStyle=e=>{if(!document.querySelector(`link[href="${e}"]`)){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}},debounce=(t,r)=>{let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,e),r)}},parseHTML=e=>(new DOMParser).parseFromString(e,"text/html"),hideElement=e=>{e.setAttribute("hidden","")},showElement=e=>{e.removeAttribute("hidden")},setActive=e=>{e.classList.add("!active")},unsetActive=e=>{e.classList.remove("!active")},updateURLParams=(e,t,r)=>{var n=e instanceof FormData,o=new URL(r||window.location.href);const s=new URLSearchParams(n?e:o.search);if(!n)for(const c in e){var a=e[c];a?s.set(c,a):s.delete(c)}n=`${window.location.pathname}?${s.toString()}`;let i;return i=t?(s.set("section_id",t),`${r||window.location.pathname}?${s.toString()}`):r?`${r}?${s.toString()}`:n,{queryURL:i,currentURL:n}},historyPush=e=>{window.history.pushState({URL:e},"",e)},setInnerHTML=function(e,t){e.replaceChildren(t),Array.from(e.querySelectorAll("script")).forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})};export{loadScript,loadStyle,debounce,parseHTML,hideElement,showElement,setActive,unsetActive,updateURLParams,historyPush,setInnerHTML};